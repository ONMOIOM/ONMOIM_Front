# 0206 프론트엔드 상황 정리

현재 프론트엔드 상황·해야 할 작업과, 백엔드에 요청할 API 요구사항을 **작업 관련** / **API 관련** 두 파트로 정리한 문서입니다.

---

## 1. 작업 관련

프론트엔드에서 진행 중이거나 대기 중인 작업과 현재 상황입니다.

---

### 1.1 문의하기 페이지

- **상황**: 이전에 설명을 들었으나 기억이 잘 나지 않음.
- **해야 할 것**: 다시 물어보기. (현재 물어본 상태)

---

### 1.2 행사 정보 보기 페이지

- **상황**: 행사 상세/정보 보기 페이지 없음.
- **해야 할 것**: 행사 정보 보기 페이지 만들어야 함. 합치면서 Kaya 쪽 가져오기. (Chillpan이 06일에 할 것)

---

### 1.3 알람 모달창

- **상황**: 알람 모달은 목록이 많아질 수 있음.
- **해야 할 것**: **무한 스크롤(infinite scroll)** 로 구현할 수 있음.
- 알람 관련 API가 요구되는 상황이나 백엔드에서 아직 완성되지 않았음. (필요 API는 아래 API 관련 파트 참고)

---

### 1.4 행사 리스트 & 같은 행사에 참여한 분들

- **상황**: 행사 리스트, 같은 행사에 참여한 분들 수가 많아질 수 있음.
- **해야 할 것**: 수가 많아지면 **스크롤** 및 **`<` `>` 버튼**으로 대응. 많은 수에 대비한 UI/UX 구현.
- **진행**: 행사 리스트의 경우 해결 완료. 같은 행사 참여한 분들은 API가 없어서 대기 중.

---

### 1.5 댓글

- **상황**: **댓글 작성**·**댓글 삭제** API가 필요함. 백엔드에서 구현 시작했으나 아직 프론트에는 없음.
- **해야 할 것**: API 연동 후 댓글 UI 구현. (필요 API는 아래 API 관련 파트 참고)

---

### 1.6 프로필 페이지(이메일 변경)

- **해야 할 것**: 이메일 변경 시 **이메일 중복 유효성 검사**를 위해, 회원가입한 **모든 사용자 이메일 조회 API**가 추가로 필요함. (필요 API는 아래 API 관련 파트 참고)
- **진행**: 이메일 변경 플로우 UI 및 로직 구현 완료. **모든 사용자 이메일 조회 API**가 필요함에 따라 이메일 변경 로직은 아직 구현 대기 중. 그 외에 UI와 로직은 모두 구현 완료.

---

### 1.7 분석 페이지(통계값)

- **상황**: 통계값 획득 API는 **"내가 주최한 모든 행사의 통계"를 한눈에 보는 페이지**용으로 사용. API 응답은 **배열 형태**가 되어야 함.
- **진행**: 구현은 했으나 해당 부분은 추가 확인 필요.

---

### 1.8 분석 페이지(주최한 행사 목록)

- **상황**: 행사 분석 페이지에서는 자신이 **"주최한 행사"**만 보여야 하나, 현재는 구분 불가.
- **현재 프론트**: 필터링 없이 **전체 행사 목록 조회** API 결과를 그대로 사용 중.
- **해야 할 것**: "내가 주최한 행사"만 쓰려면 백엔드에서 전용 API 또는 기존 API 보완 필요. (필요 API는 아래 API 관련 파트 참고)

---

### 1.9 같은 행사 참여자 보기 페이지

- **상황**: 같은 행사 참여자 보기 페이지 UI/UX 구현 완료.
- **진행**: 같은 행사 참여자 불러오기에 대한 API가 없어서 대기 중. 그 외에 UI/UX는 모두 구현 완료.

---

## 2. API 관련

프론트엔드 UI 구현을 위해 백엔드에 요청할 API 요구사항입니다. 와이어프레임과 실제 디자인 차이로 추가 요구가 생긴 부분을 포함합니다.

---

### 2.1 신규 API 요청

현재 명세/백엔드에 없어서 새로 구현이 필요한 API입니다.

#### 메인 페이지

1. **내가 참여한 행사 목록**

   - 메서드: **GET**
   - 경로: `/api/v1/users/events/joined`
   - 용도: "참여한 행사" 탭 + "같은 행사에 참여한 분들" 아래 리스트용. 로그인 사용자가 참여한 행사 목록. 각 항목에 `eventId` 포함 필요.

2. **전체 행사 참여자 (행사 목록 전체 조회)**
   - 용도: 메인 상단 등 "전체 행사 참여자" 수/목록 표시.
   - 프론트: 디스코드에서 메시지 보냈던 형식으로 목데이터 뽑아서 UI 구현해 둔 상태.

#### 댓글

3. **댓글 작성** API 추가.
4. **댓글 삭제** API 추가.

#### 회원가입

회원가입에 닉네임을 ResponseBody로 받아와야 할 것 같습니다..! (회원 정보 수정에는 존재하지만, 회원가입을 할때 입력을 받지를 못 하는 상황입니다.)

#### 프로필

5. **전체 사용자 이메일 조회**
   - 용도: 프로필 페이지에서 이메일 변경 시 **이메일 중복 유효성 검사**용. 이 웹에 회원가입한 모든 사용자의 이메일을 조회할 수 있는 API 필요.
   - 제안 구현(둘 중 하나):
     - **이메일 중복 확인 전용 API**
       - 메서드: **GET**
       - 경로: `/api/v1/users/email/exists?email=...`
       - 응답 예시: `{ success: true, data: { exists: true/false } }`
       - 이메일 형식 오류 시 400
     - **이메일 변경 API에서 중복 검증 처리**
       - 이메일 중복이면 **409 CONFLICT** 또는 명시적 에러 코드 (`EMAIL_DUPLICATE`) 반환
       - 프론트는 해당 에러 코드로 중복 메시지 표시

#### 분석 페이지

6. **통계값 획득 API**

   - 용도: "내가 주최한 모든 행사의 통계"를 한눈에 보는 페이지. API 응답은 **배열 형태**가 되어야 함.

7. **주최한 행사 구분**
   - 다음 중 하나 필요:
     - **"내가 주최한 행사 목록" 전용 API** 추가.
     - 또는 **GET /api/v1/users/events** 에 쿼리 파라미 또는 응답 필드(예: **isHost: true**)를 넣어, 주최한 행사만 구분 가능하게 할 것.

---

### 2.2 기존 API 응답 보완 요청

이미 있는 API이지만, 이미지 URL·호스트 이름 등 보완이 필요합니다.

8. **행사 목록 전체 조회**

   - 보완 내용: 응답 `data[]` 각 항목에 **imageUrl**, **hostName** 포함.

9. **행사 단건 조회**
   - 메서드: **GET**
   - 경로: `/api/v1/users/events/{eventId}`
   - 보완 내용: 응답 `data`에 **imageUrl**, **hostName** 필드 **추가**.
   - 필요 스펙:
     - `imageUrl`: string, nullable. 행사 대표 이미지 URL. 미리보기·카드용.
     - `hostName`: string, nullable. 호스트(개최자) 이름.

---

### 2.3 알람(알림) API 상세 명세

네비게이션 바 알람 아이콘 클릭 시 열리는 **알람 모달** UI를 위한 **신규 API**입니다.

10. **알람 목록 조회**

    - 메서드: **GET**
    - 경로: `/api/v1/notifications`
    - 용도: 안 읽음/읽음 모달 창의 리스트용.
    - 쿼리 파라미터 제안:
      - `status`: string, 선택. `unread` | `read` | 미지정 시 전체.
      - `page`: number, 선택. 페이지 번호 (기본값 1).
      - `limit`: number, 선택. 페이지당 개수 (기본값 20 등).
    - 응답 data(배열) 각 항목 필드:
      - `id`: string, 필수. 알림 고유 ID.
      - `message`: string, 필수. 알림 본문 (예: "행사 정보가 변경되었습니다.").
      - `createdAt`: string, 필수. ISO 8601 (표시용: "1월 12일" 등으로 포맷).
      - `isRead`: boolean, 필수. 읽음 여부.
      - `eventId`: number, 선택. 연관 행사 ID (클릭 시 해당 행사로 이동용).

11. **안 읽음 개수 조회**

    - 메서드: **GET**
    - 경로: `/api/v1/notifications/unread/count`
    - 용도: 알람 아이콘 배지 숫자, 탭 "안 읽음 (N)" 표시.

12. **단일 알람 읽음 처리**

    - 메서드: **PATCH**
    - 경로: `/api/v1/notifications/{notificationId}/read`
    - 용도: 알림 카드 클릭 시 해당 알림만 읽음 처리.

13. **전체 읽음 처리**

    - 메서드: **PATCH**
    - 경로: `/api/v1/notifications/mark-all-as-read`
    - 용도: 모달 내 "모두 읽음 처리" 버튼.
